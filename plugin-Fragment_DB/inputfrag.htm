
<html>
<body>

<table border="0" cellpadding="0" cellspacing="5" width="100%"> 
  <tr>
  <!-- Left boxes and buttons -->
    <td width="70%"><b>Create and edit molecular fragments:</b>  </td>

    <tr>
      <td>
        
        <table border="0" cellpadding="0" cellspacing="5" width="100%">
          <tr>
            <td width='20%'> </td>
            
            <td width='80%'>
            
            <input type="button"
              bgcolor="$GetVar(HtmlInputBgColour)"
              value="Picture"
              onclick="spy.FragmentDB.store_picture('Select picture', '*.png; *.tiff; *.tif; *.jpg; *.jpeg', '', )"
              name="picture" 
              width='50%'
              height="20">
            
            <input type="button"
              bgcolor="$GetVar(HtmlInputBgColour)"
              value="Drawstyle"
              onclick="spy.FragmentDB.get_chemdrawstyle()"
              name="chemdraw_style" 
              width='50%'
              height="20">
            </td>
          
          </tr>

          <tr>
            <td halign='left' width='15%'>
              <b>%Fragment:%</b> </td>
              
            <td>
              $+
              html.Snippet("gui/snippets/input-combo",
              "name=LIST_INPFRAGMENTS",
              "items=spy.FragmentDB.list_fragments()",
              "value=''",
              "width=100%",
              "onchange=SetVar(fragment_ID, html.GetValue(~name~))>>
                    spy.FragmentDB.get_resi_class()
                  >>spy.FragmentDB.get_frag_for_gui()
                  >>spy.FragmentDB.set_fragment_picture('Inputfrag.MOLEPIC2', 100)",
              "readonly=false",
              "manage=true")
              $-
            </td>
          </tr>
          
          <tr>
            <td>
            </td>
            <td width="100%" align="center" >
            <zimg name="MOLEPIC2" 
            border="2" 
            src="blank.png" 
            height=100 
            width=100 
            align="center"
            > </zimg>
            </td>
          </tr>
          
          <tr>
            <td width='20%'> Name: </td>
            <td width='80%'>
            <input type="text"
              bgcolor="$GetVar(HtmlInputBgColour)"
              name="set_name" 
              width="100%" 
              onchange='spy.SetParam(fragment_DB.new_fragment.frag_name, html.GetValue(~name~))'
              multiline="False"
            >
            </td>
          </tr>
          
          <tr>
            <td width='20%'> Unit cell: </td>
            <td width='80%'>
            <input type="text"
              bgcolor="$GetVar(HtmlInputBgColour)"
              name="set_cell" 
              width="100%" 
              onchange='spy.SetParam(fragment_DB.new_fragment.frag_cell, html.GetValue(~name~))'
              multiline="False"
            >
            </td>
          </tr>
          
          <tr>
            <td width='20%'>Atoms: </td>
            <td width='80%'>
            <input type="text"
              bgcolor="$GetVar(HtmlInputBgColour)"
              name="SET_ATOM" 
              value=""
              width="100%" 
              height="160"
              onchange="spy.SetParam('fragment_DB.new_fragment.frag_atoms', html.GetValue('~name~'))"
              multiline="True"
            >
            </td>

          </tr>
                                
          <tr>
            <td width='20%'>restraints:</td>
            <td width='80%'>
            <input type="text"
              bgcolor="$GetVar(HtmlInputBgColour)"
              name="restraints" 
              width="100%"
              height="120"
              onchange='spy.SetParam(fragment_DB.new_fragment.frag_restraints, html.GetValue(~name~))'
              multiline="True"
            >
            </td>
         </tr>
          
          <tr>
           <td width='20%'>residue:</td>
          <td>
          <table align='left' border="0" cellpadding="0" cellspacing="10" width="100%">
            <tr>
            <td align="left">
            <input type="text"
              bgcolor="$GetVar(HtmlInputBgColour)"
              name="residue" 
              width="50%"
              onchange='spy.SetParam(fragment_DB.new_fragment.frag_resiclass, html.GetValue(~name~))'
              multiline="False">
            </td>
            
            <td width="40%" align="left"> (4 characters)</td>
            <td width="10%"> </td>
            </tr>
          </table>
          </tr>
          
        </table>
      </td>
    </tr>               

    <tr>
      <td>
      
        <table  border="0" cellpadding="0" cellspacing="10" width="100%">
          <tr>
            <td><input type="button" name="UpdateFragment"
              value="Update"
              onclick="spy.FragmentDB.update_fragment()" />
            </td>
            
            <td><input type="button" name="AddFrag"
              value="Add as New"
              onclick="spy.FragmentDB.add_new_frag()" />
            </td>
            
            <td><input type="button" name="DeleteFragment"
              value="Delete"
              onclick="spy.FragmentDB.delete_fragment()" />
            </td>
          </tr>
        </table>
    </tr>
    
    <tr>  
      <td align="left"><font color="red"> 
        <input 
            type="label" 
            name="errormessage" 
            width="100%" />
        </font>
      </td>
      <!-- html.SetValue('message', "Error") -->
    </tr>
</table>


</body>
</html>

